<template name="menuupdate">
  {{>jumbo title="메뉴"}}
  <div class="navbottom">
    <div class="section row">
      <div class="col s12 m8 l8 offset-l2 offset-m2">
        <h1>메뉴 수정 페이지</h1>
        <hr>
      </div>
    </div>
    {{#if ip}}
      <div class="section row">
        <div class="col s12 m8 l8 offset-l2 offset-m2">
          {{> Template.dynamic template=addtemp}}
        </div>
      </div>
      <div class="row">
        <div class="card col s12 m8 l8 offset-l2 offset-m2">
          <div class="card-content">
            <span class="card-title">
              메뉴
            </span>
            {{> menushow}}
          </div>
        </div>
      </div>
    {{/if}}
  </div>
</template>

<template name="menufab">
  <div class="fixed-action-btn menufab" style="position: relative; display: inline-block; top: 5px; margin-left: 10px; right:10px;">
    <a class="btn-floating blue">
      <i class="large material-icons">mode_edit</i>
    </a>
    <ul>
      <li><a class="btn-floating waves-effect waves-light green" id="{{newunder}}" name="{{id}}" data-name2="{{name}}" hier={{hier}}><i class="material-icons">add</i></a></li>
      {{#if checkdel}}
      <li><a class="btn-floating waves-effect waves-light red" name="{{id}}"><i class="material-icons">no_sim</i></a></li>
      {{/if}}
    </ul>
  </div>
</template>

<template name="menushow">
  {{> menufab newunder="newadd" hier=0 checkdel=false id="whole" name="전체"}}
  <hr>
  {{#each hier0}}
  <div class="card">
    <div class="card-content">
      <span class="card-title">
        {{name}}
      </span>
      {{> menufab newunder="underadd" hier=1 checkdel=true id=_id name=name}}
      <hr>
      <div class="row">
        {{#each hier1 _id}}
          <div class="card col s6 m4 l3">
            <div class="card-content">
              <span class="card-title">
                {{name}}
              </span>
              {{> menufab newunder="underadd" hier=2 checkdel=true id=_id name=name}}
              <hr>
              {{#each hier2 _id}}
                <div class="card">
                  <div class="card-content">
                    <span class="card-title">
                      {{name}}
                    </span>
                    <hr>
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/each}}
      </div>
    </div>
  </div>
  {{/each}}
</template>

<template name="newadd">
  <h3>새 메뉴</h3>
  <form name="main" class="newform" id="newform">
    <fieldset>
      <div class="input-field col s6">
        <input id="input_text1" type="text" length="10" class="validate" name="nameko">
        <label for="input_text1">KO</label>
      </div>
      <div class="input-field col s6">
        <input id="input_text2" type="text" length="10" class="validate" name="nameen">
        <label for="input_text2">EN</label>
      </div>
      <div class="col s12">
        <p>
          <input name="menuradio" type="radio" id="rupper" value="upper"/>
          <label for="rupper">상위메뉴</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rcontent" value="content"/>
          <label for="rcontent">내용</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rboard" value="board"/>
          <label for="rboard">게시판</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rgallery" value="gallery"/>
          <label for="rgallery">갤러리</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rpeople" value="people"/>
          <label for="rpeople">사람들</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rsite" value="site"/>
          <label for="rsite">사이트</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rhistory" value="history"/>
          <label for="rhistory">연혁</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rtree" value="tree"/>
          <label for="rtree">조직도</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rmap" value="map"/>
          <label for="rmap">오시는 길</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rjournallink" value="journallink"/>
          <label for="rjournallink">학술지 링크</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rjournal" value="journal"/>
          <label for="rjournal">학술지</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rbusiness" value="business"/>
          <label for="rbusiness">사업단</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rcenter" value="center"/>
          <label for="rcenter">산하센터</label>
        </p>
      </div>
      <button class="btn waves-effect waves-light" type="submit" id="submitnew" name="action">제출
        <i class="material-icons right">send</i>
      </button>
    </fieldset>
  </form>
</template>

<template name="underadd">
  <h3>{{name}} 하위메뉴</h3>
  <form name="main" class="underform" id="underform">
    <fieldset>
      <div class="input-field col s6">
        <input id="input_textko" type="text" length="10" class="validate" name="nameko">
        <label for="input_textko">KO</label>
      </div>
      <div class="input-field col s6">
        <input id="input_texten" type="text" length="10" class="validate" name="nameen">
        <label for="input_texten">EN</label>
      </div>
      <div class="col s12">
        <p>
          <input name="menuradio" type="radio" id="rupper" value="upper"/>
          <label for="rupper">상위메뉴</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rcontent" value="content"/>
          <label for="rcontent">내용</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rboard" value="board"/>
          <label for="rboard">게시판</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rgallery" value="gallery"/>
          <label for="rgallery">갤러리</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rpeople" value="people"/>
          <label for="rpeople">사람들</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rsite" value="site"/>
          <label for="rsite">사이트</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rhistory" value="history"/>
          <label for="rhistory">연혁</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rtree" value="tree"/>
          <label for="rtree">조직도</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rmap" value="map"/>
          <label for="rmap">오시는 길</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rjournallink" value="journallink"/>
          <label for="rjournallink">학술지 링크</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rjournal" value="journal"/>
          <label for="rjournal">학술지</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rbusiness" value="business"/>
          <label for="rbusiness">사업단</label>
        </p>
        <p>
          <input name="menuradio" type="radio" id="rcenter" value="center"/>
          <label for="rcenter">산하센터</label>
        </p>
      </div>

      <button class="btn waves-effect waves-light" type="submit" id="submitunder" name="action">제출
        <i class="material-icons right">send</i>
      </button>
    </fieldset>
  </form>
</template>
